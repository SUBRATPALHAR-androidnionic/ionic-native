var __extends =
  (this && this.__extends) ||
  (function () {
    var extendStatics = function (d, b) {
      extendStatics =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (d, b) {
            d.__proto__ = b;
          }) ||
        function (d, b) {
          for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        };
      return extendStatics(d, b);
    };
    return function (d, b) {
      extendStatics(d, b);
      function __() {
        this.constructor = d;
      }
      d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());
    };
  })();
import { IonicNativePlugin, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
var BLEOriginal = /** @class */ (function (_super) {
  __extends(BLEOriginal, _super);
  function BLEOriginal() {
    return (_super !== null && _super.apply(this, arguments)) || this;
  }
  BLEOriginal.prototype.scan = function (services, seconds) {
    return cordova(this, 'scan', { observable: true }, arguments);
  };
  BLEOriginal.prototype.startScan = function (services) {
    return cordova(this, 'startScan', { observable: true, clearFunction: 'stopScan', clearWithArgs: false }, arguments);
  };
  BLEOriginal.prototype.startScanWithOptions = function (services, options) {
    return cordova(
      this,
      'startScanWithOptions',
      { observable: true, clearFunction: 'stopScan', clearWithArgs: false },
      arguments
    );
  };
  BLEOriginal.prototype.stopScan = function () {
    return cordova(this, 'stopScan', {}, arguments);
  };
  BLEOriginal.prototype.connect = function (deviceId) {
    return cordova(this, 'connect', { observable: true, clearFunction: 'disconnect', clearWithArgs: true }, arguments);
  };
  BLEOriginal.prototype.autoConnect = function (deviceId, connectCallback, disconnectCallback) {
    return cordova(this, 'autoConnect', { sync: true }, arguments);
  };
  BLEOriginal.prototype.requestMtu = function (deviceId, mtuSize) {
    return cordova(this, 'requestMtu', {}, arguments);
  };
  BLEOriginal.prototype.refreshDeviceCache = function (deviceId, timeoutMillis) {
    return cordova(this, 'refreshDeviceCache', {}, arguments);
  };
  BLEOriginal.prototype.disconnect = function (deviceId) {
    return cordova(this, 'disconnect', {}, arguments);
  };
  BLEOriginal.prototype.read = function (deviceId, serviceUUID, characteristicUUID) {
    return cordova(this, 'read', {}, arguments);
  };
  BLEOriginal.prototype.write = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'write', {}, arguments);
  };
  BLEOriginal.prototype.writeWithoutResponse = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeWithoutResponse', {}, arguments);
  };
  BLEOriginal.prototype.writeHexByte = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeHexByte', {}, arguments);
  };
  BLEOriginal.prototype.writeHexString = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeHexString', {}, arguments);
  };
  BLEOriginal.prototype.writeStringWithGetBytes = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeStringWithGetBytes', {}, arguments);
  };
  BLEOriginal.prototype.testWrite = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'testWrite', {}, arguments);
  };
  BLEOriginal.prototype.startNotification = function (deviceId, serviceUUID, characteristicUUID) {
    return cordova(
      this,
      'startNotification',
      { observable: true, destruct: true, clearFunction: 'stopNotification', clearWithArgs: true },
      arguments
    );
  };
  BLEOriginal.prototype.stopNotification = function (deviceId, serviceUUID, characteristicUUID) {
    return cordova(this, 'stopNotification', {}, arguments);
  };
  BLEOriginal.prototype.isConnected = function (deviceId) {
    return cordova(this, 'isConnected', {}, arguments);
  };
  BLEOriginal.prototype.isEnabled = function () {
    return cordova(this, 'isEnabled', {}, arguments);
  };
  BLEOriginal.prototype.startStateNotifications = function () {
    return cordova(
      this,
      'startStateNotifications',
      { observable: true, clearFunction: 'stopStateNotifications', clearWithArgs: false },
      arguments
    );
  };
  BLEOriginal.prototype.stopStateNotifications = function () {
    return cordova(this, 'stopStateNotifications', {}, arguments);
  };
  BLEOriginal.prototype.showBluetoothSettings = function () {
    return cordova(this, 'showBluetoothSettings', {}, arguments);
  };
  BLEOriginal.prototype.enable = function () {
    return cordova(this, 'enable', {}, arguments);
  };
  BLEOriginal.prototype.readRSSI = function (deviceId) {
    return cordova(this, 'readRSSI', {}, arguments);
  };
  BLEOriginal.prototype.connectedPeripheralsWithServices = function (services) {
    return cordova(this, 'connectedPeripheralsWithServices', {}, arguments);
  };
  BLEOriginal.prototype.peripheralsWithIdentifiers = function (uuids) {
    return cordova(this, 'peripheralsWithIdentifiers', {}, arguments);
  };
  BLEOriginal.prototype.bondedDevices = function () {
    return cordova(this, 'bondedDevices', {}, arguments);
  };
  BLEOriginal.prototype.isLocationEnabled = function () {
    return cordova(this, 'isLocationEnabled', {}, arguments);
  };
  BLEOriginal.pluginName = 'BLE';
  BLEOriginal.plugin = 'cordova-plugin-ble-central';
  BLEOriginal.pluginRef = 'ble';
  BLEOriginal.repo = 'https://github.com/don/cordova-plugin-ble-central';
  BLEOriginal.platforms = ['Android', 'iOS'];
  return BLEOriginal;
})(IonicNativePlugin);
var BLE = new BLEOriginal();
export { BLE };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2JsZS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ0EsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDOztJQXVMVCx1QkFBaUI7Ozs7SUFpQnhDLGtCQUFJLGFBQUMsUUFBa0IsRUFBRSxPQUFlO0lBeUJ4Qyx1QkFBUyxhQUFDLFFBQWtCO0lBZTVCLGtDQUFvQixhQUFDLFFBQWtCLEVBQUUsT0FBdUI7SUFtQmhFLHNCQUFRO0lBdUJSLHFCQUFPLGFBQUMsUUFBZ0I7SUFnQ3hCLHlCQUFXLGFBQUMsUUFBZ0IsRUFBRSxlQUFvQixFQUFFLGtCQUF1QjtJQW9CM0Usd0JBQVUsYUFBQyxRQUFnQixFQUFFLE9BQWU7SUFzQjVDLGdDQUFrQixhQUFDLFFBQWdCLEVBQUUsYUFBcUI7SUFnQjFELHdCQUFVLGFBQUMsUUFBZ0I7SUFhM0Isa0JBQUksYUFBQyxRQUFnQixFQUFFLFdBQW1CLEVBQUUsa0JBQTBCO0lBaUN0RSxtQkFBSyxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFrQjtJQWMzRixrQ0FBb0IsYUFDbEIsUUFBZ0IsRUFDaEIsV0FBbUIsRUFDbkIsa0JBQTBCLEVBQzFCLEtBQWtCO0lBaUJwQiwwQkFBWSxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFZO0lBaUI1Riw0QkFBYyxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFZO0lBZTlGLHFDQUF1QixhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFhO0lBWXhHLHVCQUFTLGFBQUMsUUFBZ0IsRUFBRSxXQUFtQixFQUFFLGtCQUEwQixFQUFFLEtBQVk7SUEyQnpGLCtCQUFpQixhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEI7SUFhbkYsOEJBQWdCLGFBQUMsUUFBZ0IsRUFBRSxXQUFtQixFQUFFLGtCQUEwQjtJQWtCbEYseUJBQVcsYUFBQyxRQUFnQjtJQVU1Qix1QkFBUztJQXFCVCxxQ0FBdUI7SUFVdkIsb0NBQXNCO0lBVXRCLG1DQUFxQjtJQVVyQixvQkFBTTtJQVlOLHNCQUFRLGFBQUMsUUFBZ0I7SUFhekIsOENBQWdDLGFBQUMsUUFBa0I7SUFZbkQsd0NBQTBCLGFBQUMsS0FBZTtJQVcxQywyQkFBYTtJQVdiLCtCQUFpQjs7Ozs7O2NBcnFCbkI7RUF5THlCLGlCQUFpQjtTQUE3QixHQUFHIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQkxFU2Nhbk9wdGlvbnMge1xuICAvKiogdHJ1ZSBpZiBkdXBsaWNhdGUgZGV2aWNlcyBzaG91bGQgYmUgcmVwb3J0ZWQsIGZhbHNlIChkZWZhdWx0KSBpZiBkZXZpY2VzIHNob3VsZCBvbmx5IGJlIHJlcG9ydGVkIG9uY2UuICAqL1xuICByZXBvcnREdXBsaWNhdGVzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAbmFtZSBCTEVcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBwbHVnaW4gZW5hYmxlcyBjb21tdW5pY2F0aW9uIGJldHdlZW4gYSBwaG9uZSBhbmQgQmx1ZXRvb3RoIExvdyBFbmVyZ3kgKEJMRSkgcGVyaXBoZXJhbHMuXG4gKlxuICogVGhlIHBsdWdpbiBwcm92aWRlcyBhIHNpbXBsZSBKYXZhU2NyaXB0IEFQSSBmb3IgaU9TIGFuZCBBbmRyb2lkLlxuICpcbiAqIC0gU2NhbiBmb3IgcGVyaXBoZXJhbHNcbiAqIC0gQ29ubmVjdCB0byBhIHBlcmlwaGVyYWxcbiAqIC0gUmVhZCB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpY1xuICogLSBXcml0ZSBuZXcgdmFsdWUgdG8gYSBjaGFyYWN0ZXJpc3RpY1xuICogLSBHZXQgbm90aWZpZWQgd2hlbiBjaGFyYWN0ZXJpc3RpYydzIHZhbHVlIGNoYW5nZXNcbiAqXG4gKiBBZHZlcnRpc2luZyBpbmZvcm1hdGlvbiBpcyByZXR1cm5lZCB3aGVuIHNjYW5uaW5nIGZvciBwZXJpcGhlcmFscy4gU2VydmljZSwgY2hhcmFjdGVyaXN0aWMsIGFuZCBwcm9wZXJ0eSBpbmZvIGlzIHJldHVybmVkIHdoZW4gY29ubmVjdGluZyB0byBhIHBlcmlwaGVyYWwuIEFsbCBhY2Nlc3MgaXMgdmlhIHNlcnZpY2UgYW5kIGNoYXJhY3RlcmlzdGljIFVVSURzLiBUaGUgcGx1Z2luIG1hbmFnZXMgaGFuZGxlcyBpbnRlcm5hbGx5LlxuICpcbiAqIFNpbXVsdGFuZW91cyBjb25uZWN0aW9ucyB0byBtdWx0aXBsZSBwZXJpcGhlcmFscyBhcmUgc3VwcG9ydGVkLlxuICpcbiAqIEB1c2FnZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqXG4gKiBpbXBvcnQgeyBCTEUgfSBmcm9tICdAaW9uaWMtbmF0aXZlL2JsZS9uZ3gnO1xuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgYmxlOiBCTEUpIHsgfVxuICpcbiAqIGBgYFxuICpcbiAqICMjIFBlcmlwaGVyYWwgRGF0YVxuICpcbiAqIFBlcmlwaGVyYWwgRGF0YSBpcyBwYXNzZWQgdG8gdGhlIHN1Y2Nlc3MgY2FsbGJhY2sgd2hlbiBzY2FubmluZyBhbmQgY29ubmVjdGluZy4gTGltaXRlZCBkYXRhIGlzIHBhc3NlZCB3aGVuIHNjYW5uaW5nLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqICAge1xuICogICAgICAgJ25hbWUnOiAnQmF0dGVyeSBEZW1vJyxcbiAqICAgICAgICdpZCc6ICcyMDpGRjpEMDpGRjpEMTpDMCcsXG4gKiAgICAgICAnYWR2ZXJ0aXNpbmcnOiBbMiwxLDYsMywzLDE1LDI0LDgsOSw2Niw5NywxMTYsMTE2LDEwMSwxMTQsMTIxXSxcbiAqICAgICAgICdyc3NpJzogLTU1XG4gKiAgIH1cbiAqIGBgYFxuICogQWZ0ZXIgY29ubmVjdGluZywgdGhlIHBlcmlwaGVyYWwgb2JqZWN0IGFsc28gaW5jbHVkZXMgc2VydmljZSwgY2hhcmFjdGVyaXN0aWMgYW5kIGRlc2NyaXB0b3IgaW5mb3JtYXRpb24uXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogICB7XG4gKiAgICAgICAnbmFtZSc6ICdCYXR0ZXJ5IERlbW8nLFxuICogICAgICAgJ2lkJzogJzIwOkZGOkQwOkZGOkQxOkMwJyxcbiAqICAgICAgICdhZHZlcnRpc2luZyc6IFsyLDEsNiwzLDMsMTUsMjQsOCw5LDY2LDk3LDExNiwxMTYsMTAxLDExNCwxMjFdLFxuICogICAgICAgJ3Jzc2knOiAtNTUsXG4gKiAgICAgICAnc2VydmljZXMnOiBbXG4gKiAgICAgICAgICAgJzE4MDAnLFxuICogICAgICAgICAgICcxODAxJyxcbiAqICAgICAgICAgICAnMTgwZidcbiAqICAgICAgIF0sXG4gKiAgICAgICAnY2hhcmFjdGVyaXN0aWNzJzogW1xuICogICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICAgJ3NlcnZpY2UnOiAnMTgwMCcsXG4gKiAgICAgICAgICAgICAgICdjaGFyYWN0ZXJpc3RpYyc6ICcyYTAwJyxcbiAqICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiBbXG4gKiAgICAgICAgICAgICAgICAgICAnUmVhZCdcbiAqICAgICAgICAgICAgICAgXVxuICogICAgICAgICAgIH0sXG4gKiAgICAgICAgICAge1xuICogICAgICAgICAgICAgICAnc2VydmljZSc6ICcxODAwJyxcbiAqICAgICAgICAgICAgICAgJ2NoYXJhY3RlcmlzdGljJzogJzJhMDEnLFxuICogICAgICAgICAgICAgICAncHJvcGVydGllcyc6IFtcbiAqICAgICAgICAgICAgICAgICAgICdSZWFkJ1xuICogICAgICAgICAgICAgICBdXG4gKiAgICAgICAgICAgfSxcbiAqICAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgICdzZXJ2aWNlJzogJzE4MDEnLFxuICogICAgICAgICAgICAgICAnY2hhcmFjdGVyaXN0aWMnOiAnMmEwNScsXG4gKiAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzJzogW1xuICogICAgICAgICAgICAgICAgICAgJ1JlYWQnXG4gKiAgICAgICAgICAgICAgIF1cbiAqICAgICAgICAgICB9LFxuICogICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICAgJ3NlcnZpY2UnOiAnMTgwZicsXG4gKiAgICAgICAgICAgICAgICdjaGFyYWN0ZXJpc3RpYyc6ICcyYTE5JyxcbiAqICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiBbXG4gKiAgICAgICAgICAgICAgICAgICAnUmVhZCdcbiAqICAgICAgICAgICAgICAgXSxcbiAqICAgICAgICAgICAgICAgJ2Rlc2NyaXB0b3JzJzogW1xuICogICAgICAgICAgICAgICAgICAge1xuICogICAgICAgICAgICAgICAgICAgICAgICd1dWlkJzogJzI5MDEnXG4gKiAgICAgICAgICAgICAgICAgICB9LFxuICogICAgICAgICAgICAgICAgICAge1xuICogICAgICAgICAgICAgICAgICAgICAgICd1dWlkJzogJzI5MDQnXG4gKiAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgIF1cbiAqICAgICAgICAgICB9XG4gKiAgICAgICBdXG4gKiAgIH1cbiAqIGBgYFxuICpcbiAqICMjIEFkdmVydGlzaW5nIERhdGFcbiAqIEJsdWV0b290aCBhZHZlcnRpc2luZyBkYXRhIGlzIHJldHVybmVkIGluIHdoZW4gc2Nhbm5pbmcgZm9yIGRldmljZXMuIFRoZSBmb3JtYXQgdmFyaWVzIGRlcGVuZGluZyBvbiB5b3VyIHBsYXRmb3JtLiBPbiBBbmRyb2lkIGFkdmVydGlzaW5nIGRhdGEgd2lsbCBiZSB0aGUgcmF3IGFkdmVydGlzaW5nIGJ5dGVzLiBpT1MgZG9lcyBub3QgYWxsb3cgYWNjZXNzIHRvIHJhdyBhZHZlcnRpc2luZyBkYXRhLCBzbyBhIGRpY3Rpb25hcnkgb2YgZGF0YSBpcyByZXR1cm5lZC5cbiAqXG4gKiBUaGUgYWR2ZXJ0aXNpbmcgaW5mb3JtYXRpb24gZm9yIGJvdGggQW5kcm9pZCBhbmQgaU9TIGFwcGVhcnMgdG8gYmUgYSBjb21iaW5hdGlvbiBvZiBhZHZlcnRpc2luZyBkYXRhIGFuZCBzY2FuIHJlc3BvbnNlIGRhdGEuXG4gKlxuICogIyMjIEFuZHJvaWRcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAgIHtcbiAqICAgICAgICduYW1lJzogJ2RlbW8nLFxuICogICAgICAgJ2lkJzogJzAwOjFBOjdEOkRBOjcxOjEzJyxcbiAqICAgICAgICdhZHZlcnRpc2luZyc6IEFycmF5QnVmZmVyLFxuICogICAgICAncnNzaSc6IC0zN1xuICogIH1cbiAqIGBgYFxuICpcbiAqIENvbnZlcnQgdGhlIGFkdmVydGlzaW5nIGluZm8gdG8gYSBVaW50OEFycmF5IGZvciBwcm9jZXNzaW5nLiBgdmFyIGFkRGF0YSA9IG5ldyBVaW50OEFycmF5KHBlcmlwaGVyYWwuYWR2ZXJ0aXNpbmcpYFxuICpcbiAqICMjIyBpT1NcbiAqXG4gKiBOb3RlIHRoYXQgaU9TIHVzZXMgdGhlIHN0cmluZyB2YWx1ZSBvZiB0aGUgY29uc3RhbnRzIGZvciB0aGUgW0FkdmVydGlzZW1lbnQgRGF0YSBSZXRyaWV2YWwgS2V5c10oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvaW9zL2RvY3VtZW50YXRpb24vQ29yZUJsdWV0b290aC9SZWZlcmVuY2UvQ0JDZW50cmFsTWFuYWdlckRlbGVnYXRlX1Byb3RvY29sL2luZGV4Lmh0bWwjLy9hcHBsZV9yZWYvZG9jL2NvbnN0YW50X2dyb3VwL0FkdmVydGlzZW1lbnRfRGF0YV9SZXRyaWV2YWxfS2V5cykuIFRoaXMgd2lsbCBsaWtlbHkgY2hhbmdlIGluIHRoZSBmdXR1cmUuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogICB7XG4gKiAgICAgICAnbmFtZSc6ICdkZW1vJyxcbiAqICAgICAgICdpZCc6ICdEODQ3OUE0Ri03NTE3LUJDRDMtOTFCNS0zMzAyQjJGODE4MDInLFxuICogICAgICAgJ2FkdmVydGlzaW5nJzoge1xuICogICAgICAgICAgICdrQ0JBZHZEYXRhQ2hhbm5lbCc6IDM3LFxuICogICAgICAgICAgICdrQ0JBZHZEYXRhU2VydmljZURhdGEnOiB7XG4gKiAgICAgICAgICAgICAgICdGRUQ4Jzoge1xuICogICAgICAgICAgICAgICAgICAgJ2J5dGVMZW5ndGgnOiA3IC8vIGRhdGEgbm90IHNob3duXG4gKiAgICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICB9LFxuICogICAgICAgICAgICdrQ0JBZHZEYXRhTG9jYWxOYW1lJzogJ2RlbW8nLFxuICogICAgICAgICAgICdrQ0JBZHZEYXRhU2VydmljZVVVSURzJzogWydGRUQ4J10sXG4gKiAgICAgICAgICAgJ2tDQkFkdkRhdGFNYW51ZmFjdHVyZXJEYXRhJzoge1xuICogICAgICAgICAgICAgICAnYnl0ZUxlbmd0aCc6IDcgIC8vIGRhdGEgbm90IHNob3duXG4gKiAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAna0NCQWR2RGF0YVR4UG93ZXJMZXZlbCc6IDMyLFxuICogICAgICAgICAgICdrQ0JBZHZEYXRhSXNDb25uZWN0YWJsZSc6IHRydWVcbiAqICAgICAgIH0sXG4gKiAgICAgICAncnNzaSc6IC01M1xuICogICB9XG4gKiBgYGBcbiAqXG4gKiAjIyBUeXBlZCBBcnJheXNcbiAqXG4gKiBUaGlzIHBsdWdpbiB1c2VzIHR5cGVkIEFycmF5cyBvciBBcnJheUJ1ZmZlcnMgZm9yIHNlbmRpbmcgYW5kIHJlY2VpdmluZyBkYXRhLlxuICpcbiAqIFRoaXMgbWVhbnMgdGhhdCB5b3UgbmVlZCBjb252ZXJ0IHlvdXIgZGF0YSB0byBBcnJheUJ1ZmZlcnMgYmVmb3JlIHNlbmRpbmcgYW5kIGZyb20gQXJyYXlCdWZmZXJzIHdoZW4gcmVjZWl2aW5nLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqICAgLy8gQVNDSUkgb25seVxuICogICBmdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cmluZykge1xuICogICAgICB2YXIgYXJyYXkgPSBuZXcgVWludDhBcnJheShzdHJpbmcubGVuZ3RoKTtcbiAqICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdHJpbmcubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gKiAgICAgICAgICBhcnJheVtpXSA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICogICAgICAgfVxuICogICAgICAgcmV0dXJuIGFycmF5LmJ1ZmZlcjtcbiAqICAgfVxuICpcbiAqICAgLy8gQVNDSUkgb25seVxuICogICBmdW5jdGlvbiBieXRlc1RvU3RyaW5nKGJ1ZmZlcikge1xuICogICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG4gKiAgIH1cbiAqIGBgYFxuICogWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgdHlwZWQgYXJyYXlzIGluIHRoZXNlIGFydGljbGVzIG9uIFtNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvVHlwZWRfYXJyYXlzKSBhbmQgW0hUTUw1IFJvY2tzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy93ZWJnbC90eXBlZF9hcnJheXMvKS5cbiAqXG4gKiAjIyBVVUlEc1xuICpcbiAqIFVVSURzIGFyZSBhbHdheXMgc3RyaW5ncyBhbmQgbm90IG51bWJlcnMuIFNvbWUgMTYtYml0IFVVSURzLCBzdWNoIGFzICcyMjIwJyBsb29rIGxpa2UgaW50ZWdlcnMsIGJ1dCB0aGV5J3JlIG5vdC4gKFRoZSBpbnRlZ2VyIDIyMjAgaXMgMHg4QUMgaW4gaGV4LikgVGhpcyBpc24ndCBhIHByb2JsZW0gd2l0aCAxMjggYml0IFVVSURzIHNpbmNlIHRoZXkgbG9vayBsaWtlIHN0cmluZ3MgODJiOWU2ZTEtNTkzYS00NTZmLWJlOWItOTIxNTE2MGViY2FjLiBBbGwgMTYtYml0IFVVSURzIHNob3VsZCBhbHNvIGJlIHBhc3NlZCB0byBtZXRob2RzIGFzIHN0cmluZ3MuXG4gKlxuICogQGludGVyZmFjZXNcbiAqIEJMRVNjYW5PcHRpb25zXG4gKi9cbkBQbHVnaW4oe1xuICBwbHVnaW5OYW1lOiAnQkxFJyxcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4tYmxlLWNlbnRyYWwnLFxuICBwbHVnaW5SZWY6ICdibGUnLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL2Rvbi9jb3Jkb3ZhLXBsdWdpbi1ibGUtY2VudHJhbCcsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLFxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBCTEUgZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBTY2FuIGFuZCBkaXNjb3ZlciBCTEUgcGVyaXBoZXJhbHMgZm9yIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiBgYGBcbiAgICogQkxFLnNjYW4oW10sIDUpLnN1YnNjcmliZShkZXZpY2UgPT4ge1xuICAgKiAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRldmljZSkpO1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHNlcnZpY2VzICBMaXN0IG9mIHNlcnZpY2UgVVVJRHMgdG8gZGlzY292ZXIsIG9yIGBbXWAgdG8gZmluZCBhbGwgZGV2aWNlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyAgTnVtYmVyIG9mIHNlY29uZHMgdG8gcnVuIGRpc2NvdmVyeVxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyBvZiBlYWNoIHBlcmlwaGVyYWwgdGhhdCBpcyBkaXNjb3ZlcmVkIGR1cmluZyB0aGUgc3BlY2lmaWVkIHRpbWUuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcbiAgfSlcbiAgc2NhbihzZXJ2aWNlczogc3RyaW5nW10sIHNlY29uZHM6IG51bWJlcik6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYW4gYW5kIGRpc2NvdmVyIEJMRSBwZXJpcGhlcmFscyB1bnRpbCBgc3RvcFNjYW5gIGlzIGNhbGxlZC5cbiAgICpcbiAgICogQHVzYWdlXG4gICAqIGBgYFxuICAgKiBCTEUuc3RhcnRTY2FuKFtdKS5zdWJzY3JpYmUoZGV2aWNlID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZXZpY2UpKTtcbiAgICogfSk7XG4gICAqXG4gICAqIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgKiAgIEJMRS5zdG9wU2NhbigpO1xuICAgKiB9LCA1MDAwKTtcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHNlcnZpY2VzICBMaXN0IG9mIHNlcnZpY2UgVVVJRHMgdG8gZGlzY292ZXIsIG9yIGBbXWAgdG8gZmluZCBhbGwgZGV2aWNlc1xuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyBvZiBlYWNoIHBlcmlwaGVyYWwgZGlzY292ZXJlZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxuICAgIGNsZWFyRnVuY3Rpb246ICdzdG9wU2NhbicsXG4gICAgY2xlYXJXaXRoQXJnczogZmFsc2UsXG4gIH0pXG4gIHN0YXJ0U2NhbihzZXJ2aWNlczogc3RyaW5nW10pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FucyBmb3IgQkxFIGRldmljZXMuIFRoaXMgZnVuY3Rpb24gb3BlcmF0ZXMgc2ltaWxhcmx5IHRvIHRoZSBgc3RhcnRTY2FuYCBmdW5jdGlvbiwgYnV0IGFsbG93cyB5b3UgdG8gc3BlY2lmeSBleHRyYSBvcHRpb25zIChsaWtlIGFsbG93aW5nIGR1cGxpY2F0ZSBkZXZpY2UgcmVwb3J0cykuXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHNlcnZpY2VzICBMaXN0IG9mIHNlcnZpY2UgVVVJRHMgdG8gZGlzY292ZXIsIG9yIGBbXWAgdG8gZmluZCBhbGwgZGV2aWNlc1xuICAgKiBAcGFyYW0ge0JMRVNjYW5PcHRpb25zfSBvcHRpb25zIE9wdGlvbnNcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgZWFjaCBwZXJpcGhlcmFsIGRpc2NvdmVyZWQuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcbiAgICBjbGVhckZ1bmN0aW9uOiAnc3RvcFNjYW4nLFxuICAgIGNsZWFyV2l0aEFyZ3M6IGZhbHNlLFxuICB9KVxuICBzdGFydFNjYW5XaXRoT3B0aW9ucyhzZXJ2aWNlczogc3RyaW5nW10sIG9wdGlvbnM6IEJMRVNjYW5PcHRpb25zKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBhIHNjYW4gc3RhcnRlZCBieSBgc3RhcnRTY2FuYC5cbiAgICpcbiAgICogQHVzYWdlXG4gICAqIGBgYFxuICAgKiBCTEUuc3RhcnRTY2FuKFtdKS5zdWJzY3JpYmUoZGV2aWNlID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZXZpY2UpKTtcbiAgICogfSk7XG4gICAqIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgKiAgIEJMRS5zdG9wU2NhbigpLnRoZW4oKCkgPT4geyBjb25zb2xlLmxvZygnc2NhbiBzdG9wcGVkJyk7IH0pO1xuICAgKiB9LCA1MDAwKTtcbiAgICogYGBgXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHN0b3BTY2FuKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbm5lY3QgdG8gYSBwZXJpcGhlcmFsLlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqICAgQkxFLmNvbm5lY3QoJzEyOjM0OjU2Ojc4OjlBOkJDJykuc3Vic2NyaWJlKHBlcmlwaGVyYWxEYXRhID0+IHtcbiAgICogICAgIGNvbnNvbGUubG9nKHBlcmlwaGVyYWxEYXRhKTtcbiAgICogICB9LFxuICAgKiAgIHBlcmlwaGVyYWxEYXRhID0+IHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZWN0ZWQnKTtcbiAgICogICB9KTtcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEByZXR1cm4ge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgY29ubmVjdC9kaXNjb25uZWN0LlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gICAgY2xlYXJGdW5jdGlvbjogJ2Rpc2Nvbm5lY3QnLFxuICAgIGNsZWFyV2l0aEFyZ3M6IHRydWUsXG4gIH0pXG4gIGNvbm5lY3QoZGV2aWNlSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVzdGFibGlzaCBhbiBhdXRvbWF0aWMgY29ubmVjdGlvbiB0byBhIHBlcmlwaGVyYWwuIFRoZSBwaG9uZSB3aWxsIGF1dG9tYXRpY2FsbHkgY29ubmVjdCB0byB0aGUgQmx1ZXRvb3RoIHBlcmlwaGVyYWxcbiAgICogd2hlbmV2ZXIgaXQgaXMgaW4gcmFuZ2UuIFRoZSBhdXRvQ29ubmVjdCBmdW5jdGlvbiB1c2VzIGNhbGxiYWNrcyBpbnN0ZWFkIG9mIG9ic2VydmFibGVzIGJlY2F1c2UgY29ubmVjdCBhbmRcbiAgICogZGlzY29ubmVjdCBjYW4gZWFjaCBiZSBjYWxsZWQgbWFueSB0aW1lcyBhcyBhIGRldmljZXMgY29ubmVjdHMgYW5kIGRpc2Nvbm5lY3RzLlxuICAgKlxuICAgKiBPbiBBbmRyb2lkIHlvdSBjYW4gcGFzcyBhIE1BQyBhZGRyZXNzIGRpcmVjdGx5IHRvIGF1dG9Db25uZWN0LiBXaXRoIGlPUywgeW91IG5lZWQgdG8gZ2V0IGEgZGV2aWNlIGlkIGJ5IHNjYW5uaW5nLFxuICAgKiBjYWxsaW5nIGJsZS5wZXJpcGhlcmFsc1dpdGhJZGVudGlmaWVycywgb3IgY2FsbGluZyBibGUuY29ubmVjdGVkUGVyaXBoZXJhbHNXaXRoU2VydmljZXMuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiBgYGBcbiAgICogIHNvbWVGdW5jdGlvbigpIHtcbiAgICogICAgdGhpcy5ibGUuYXV0b0Nvbm5lY3QoZGV2aWNlSWQsIG9uQ29ubmVjdGVkLmJpbmQodGhpcyksIG9uRGlzY29ubmVjdGVkLmJpbmQodGhpcykpO1xuICAgKiAgfVxuICAgKlxuICAgKiAgb25Db25uZWN0ZWQocGVyaXBoZXJhbCkge1xuICAgKiAgICBjb25zb2xlLmxvZyhgQ29ubmVjdGVkIHRvICR7cGVyaXBoZXJhbC5pZH1gKWxcbiAgICogIH1cbiAgICpcbiAgICogIG9uRGlzY29ubmVjdGVkKHBlcmlwaGVyYWwpIHtcbiAgICogICAgY29uc29sZS5sb2coYERpc2Nvbm5lY3RlZCBmcm9tICR7cGVyaXBoZXJhbC5pZH1gKWxcbiAgICogIH1cbiAgICpcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbm5lY3RDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIHBlcmlwaGVyYWwgZGF0YSB3aGVuIHRoZSBkZXZpY2VzIGNvbm5lY3RzXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpc2Nvbm5lY3RDYWxsYmFjayAgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBwZXJpcGhlcmFsIGRhdGEgd2hlbiB0aGUgZGV2aWNlcyBkaXNjb25uZWN0c1xuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIGF1dG9Db25uZWN0KGRldmljZUlkOiBzdHJpbmcsIGNvbm5lY3RDYWxsYmFjazogYW55LCBkaXNjb25uZWN0Q2FsbGJhY2s6IGFueSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IE1UVSBzaXplLlxuICAgKiBNYXkgYmUgdXNlZCB0byBmaXggdGhlIEVycm9yIDE0IFwiVW5saWtlbHlcIiBvbiB3cml0ZSByZXF1ZXN0cyB3aXRoIG1vcmUgdGhhbiAyMCBieXRlcy5cbiAgICogQHVzYWdlXG4gICAqIGBgYFxuICAgKiAgIEJMRS5yZXF1ZXN0TXR1KCcxMjozNDo1Njo3ODo5QTpCQycsIDUxMikudGhlbigoKSA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnTVRVIFNpemUgQWNjZXB0ZWQnKTtcbiAgICogICB9LCBlcnJvciA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnTVRVIFNpemUgRmFpbGVkJyk7XG4gICAqICAgfSk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge251bWJlcn0gbXR1U2l6ZSBUaGUgbmV3IE1UVSBzaXplLiAoMjMgLSA1MTcsIGRlZmF1bHQgaXMgdXN1YWxseSAyMy4gTWF4IHJlY29tbWVuZGVkOiA1MTIpXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHJlcXVlc3RNdHUoZGV2aWNlSWQ6IHN0cmluZywgbXR1U2l6ZTogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVmcmVzaCBEZXZpY2UgQ2FjaGVcbiAgICogVGhpcyBtZXRob2QgbWF5IGZpeCBhIGlzc3VlIG9mIG9sZCBjYWNoZWQgc2VydmljZXMgYW5kIGNoYXJhY3RlcmlzdGljcy5cbiAgICogTk9URSBTaW5jZSB0aGlzIHVzZXMgYW4gdW5kb2N1bWVudGVkIEFQSSBpdCdzIG5vdCBndWFyYW50ZWVkIHRvIHdvcmsuXG4gICAqIElmIHlvdSBjaG9vc2UgYSB0b28gbG93IGRlbGF5IHRpbWUgKHRpbWVvdXRNaWxsaXMpIHRoZSBtZXRob2QgY291bGQgZmFpbC5cbiAgICogQHVzYWdlXG4gICAqIGBgYFxuICAgKiAgIEJMRS5yZWZyZXNoRGV2aWNlQ2FjaGUoJzEyOjM0OjU2Ojc4OjlBOkJDJywgMTAwMDApLnRoZW4oZGlzY292ZXJlZFNlcnZpY2VzID0+IHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdUaGUgbmV3IGRpc2NvdmVyZWQgc2VydmljZXMgYWZ0ZXIgdGhlIGNsZWFuOiAnLCBkaXNjb3ZlcmVkU2VydmljZXMpO1xuICAgKiAgIH0sIGVycm9yID0+IHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoIGRldmljZSBjYWNoZSBmYWlsZWQuJyk7XG4gICAqICAgfSk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZW91dE1pbGxpcyBEZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgcmVmcmVzaCBiZWZvcmUgZGlzY292ZXJpbmcgc2VydmljZXMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHJlZnJlc2hEZXZpY2VDYWNoZShkZXZpY2VJZDogc3RyaW5nLCB0aW1lb3V0TWlsbGlzOiBudW1iZXIpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0IGZyb20gYSBwZXJpcGhlcmFsLlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqICAgQkxFLmRpc2Nvbm5lY3QoJzEyOjM0OjU2Ojc4OjlBOkJDJykudGhlbigoKSA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnRGlzY29ubmVjdGVkJyk7XG4gICAqICAgfSk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBkaXNjb25uZWN0KGRldmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICByZWFkKGRldmljZUlkOiBzdHJpbmcsIHNlcnZpY2VVVUlEOiBzdHJpbmcsIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogV3JpdGUgdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWMuXG4gICAqIEB1c2FnZVxuICAgKiBgYGBcbiAgICogLy8gc2VuZCAxIGJ5dGUgdG8gc3dpdGNoIGEgbGlnaHQgb25cbiAgICogdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICogZGF0YVswXSA9IDE7XG4gICAqIEJMRS53cml0ZShkZXZpY2VfaWQsICdGRjEwJywgJ0ZGMTEnLCBkYXRhLmJ1ZmZlcik7XG4gICAqXG4gICAqIC8vIHNlbmQgYSAzIGJ5dGUgdmFsdWUgd2l0aCBSR0IgY29sb3JcbiAgICogdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheSgzKTtcbiAgICogZGF0YVswXSA9IDB4RkY7ICAvLyByZWRcbiAgICogZGF0YVswXSA9IDB4MDA7IC8vIGdyZWVuXG4gICAqIGRhdGFbMF0gPSAweEZGOyAvLyBibHVlXG4gICAqIEJMRS53cml0ZShkZXZpY2VfaWQsICdjY2MwJywgJ2NjYzEnLCBkYXRhLmJ1ZmZlcik7XG4gICAqXG4gICAqIC8vIHNlbmQgYSAzMiBiaXQgaW50ZWdlclxuICAgKiB2YXIgZGF0YSA9IG5ldyBVaW50MzJBcnJheSgxKTtcbiAgICogZGF0YVswXSA9IGNvdW50ZXJJbnB1dC52YWx1ZTtcbiAgICogQkxFLndyaXRlKGRldmljZV9pZCwgU0VSVklDRSwgQ0hBUkFDVEVSSVNUSUMsIGRhdGEuYnVmZmVyKTtcbiAgICpcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSB2YWx1ZSAgRGF0YSB0byB3cml0ZSB0byB0aGUgY2hhcmFjdGVyaXN0aWMsIGFzIGFuIEFycmF5QnVmZmVyLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHdyaXRlKGRldmljZUlkOiBzdHJpbmcsIHNlcnZpY2VVVUlEOiBzdHJpbmcsIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nLCB2YWx1ZTogQXJyYXlCdWZmZXIpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZSB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpYyB3aXRob3V0IHdhaXRpbmcgZm9yIGNvbmZpcm1hdGlvbiBmcm9tIHRoZSBwZXJpcGhlcmFsLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gdmFsdWUgIERhdGEgdG8gd3JpdGUgdG8gdGhlIGNoYXJhY3RlcmlzdGljLCBhcyBhbiBBcnJheUJ1ZmZlci5cbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICB3cml0ZVdpdGhvdXRSZXNwb25zZShcbiAgICBkZXZpY2VJZDogc3RyaW5nLFxuICAgIHNlcnZpY2VVVUlEOiBzdHJpbmcsXG4gICAgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcsXG4gICAgdmFsdWU6IEFycmF5QnVmZmVyXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIHdyaXRlcyB1bnNpZ25lZCBIZXggQnl0ZSBpbiBieXRlIGFycmF5XG4gICAqIG1heDogMjU2IFswLTI1NV1cbiAgICogYWNjZXB0cyBIRVgtTnVtYmVycyBhcyBhcmdzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xuICAgKiBAcGFyYW0ge2FueVtdfSB2YWx1ZSAgRGF0YSB0byB3cml0ZSB0byB0aGUgY2hhcmFjdGVyaXN0aWMsIGFzIGFuIEFycmF5QnVmZmVyLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHdyaXRlSGV4Qnl0ZShkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZywgdmFsdWU6IGFueVtdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQWNjZXB0cyBBU0NJSSBlcXVpdmFsZW50IG9mIGFyZ3MgaW4gRGVjaW1hbC1Gb3JtYXRcbiAgICogQ29udmVydCBpdCB0byBIRVggTnVtYmVyc1xuICAgKiBXcml0ZXMgdW5zaWduZWQgaGV4IG51bWJlciBpbiBieXRlIGFycmF5XG4gICAqIE1heDogMjU2IFswLTI1NV1cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcmlzdGljVVVJRCAgVVVJRCBvZiB0aGUgQkxFIGNoYXJhY3RlcmlzdGljXG4gICAqIEBwYXJhbSB7YW55W119IHZhbHVlICB0YWtlcyBkZWNpbWFsIG51bWJlciAmIGNvbnZlcnQgaXQgdG8gaGV4YWRlY2ltYWwgJiB0aGVuIHJvdW5kIG9mZiB0byBvbmUgdW5zaWduZWQgYnl0ZSAoJjB4RkYpXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2VcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgd3JpdGVIZXhTdHJpbmcoZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcsIHZhbHVlOiBhbnlbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgc3RyaW5nIGRhdGFcbiAgICogVXNlcyBqYXZhIG1ldGhvZCBnZXRCeXRlcygpIHRvIGdldCBCeXRlQXJyYXkgZnJvbSBhIGdpdmVuIHN0cmluZ1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcbiAgICogQHBhcmFtIHthbnlbXX0gdmFsdWUgIHRha2VzIGRlY2ltYWwgbnVtYmVyICYgY29udmVydCBpdCB0byBoZXhhZGVjaW1hbCAmIHRoZW4gcm91bmQgb2ZmIHRvIG9uZSB1bnNpZ25lZCBieXRlICgmMHhGRilcbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICB3cml0ZVN0cmluZ1dpdGhHZXRCeXRlcyhkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xuICAgKiBAcGFyYW0ge2FueVtdfSB2YWx1ZSAgdGFrZXMgZGVjaW1hbCBudW1iZXIgJiBjb252ZXJ0IGl0IHRvIGhleGFkZWNpbWFsICYgdGhlbiByb3VuZCBvZmYgdG8gb25lIHVuc2lnbmVkIGJ5dGUgKCYweEZGKVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHRlc3RXcml0ZShkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZywgdmFsdWU6IGFueVtdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdG8gYmUgbm90aWZpZWQgd2hlbiB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpYyBjaGFuZ2VzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqIEJMRS5zdGFydE5vdGlmaWNhdGlvbihkZXZpY2VfaWQsICdGRjEwJywgJ0ZGMTEnKS5zdWJzY3JpYmUoYnVmZmVyID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIGNoYXJhY3RlcmlzdGljIGNoYW5nZXMuXG4gICAqIFRoZSBvYnNlcnZlciBlbWl0IGFuIGFycmF5IHdpdGggZGF0YSBhdCBpbmRleCAwIGFuZCBzZXF1ZW5jZSBvcmRlciBhdCBpbmRleCAxLlxuICAgKiBUaGUgc2VxdWVuY2Ugb3JkZXIgaXMgYWx3YXlzIHVuZGVmaW5lZCBvbiBpT1MuIE9uIGFuZHJvaWQgaXQgbGVhdmUgdGhlIGNsaWVudCB0byBjaGVjayB0aGUgc2VxdWVuY2Ugb3JkZXIgYW5kIHJlb3JkZXIgaWYgbmVlZGVkXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcbiAgICBkZXN0cnVjdDogdHJ1ZSxcbiAgICBjbGVhckZ1bmN0aW9uOiAnc3RvcE5vdGlmaWNhdGlvbicsXG4gICAgY2xlYXJXaXRoQXJnczogdHJ1ZSxcbiAgfSlcbiAgc3RhcnROb3RpZmljYXRpb24oZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGJlaW5nIG5vdGlmaWVkIHdoZW4gdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWMgY2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcmlzdGljVVVJRCAgVVVJRCBvZiB0aGUgQkxFIGNoYXJhY3RlcmlzdGljXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHN0b3BOb3RpZmljYXRpb24oZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnQgdGhlIGNvbm5lY3Rpb24gc3RhdHVzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqIEJMRS5pc0Nvbm5lY3RlZCgnRkZDQTBCMDktQ0IxRC00REMwLUExRUYtMzFBRkQzRURGQjUzJykudGhlbihcbiAgICogICAoKSA9PiB7IGNvbnNvbGUubG9nKCdjb25uZWN0ZWQnKTsgfSxcbiAgICogICAoKSA9PiB7IGNvbnNvbGUubG9nKCdub3QgY29ubmVjdGVkJyk7IH1cbiAgICogKTtcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc0Nvbm5lY3RlZChkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0IGlmIGJsdWV0b290aCBpcyBlbmFibGVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyBpZiBCbHVldG9vdGggaXMgZW5hYmxlZCwgYW5kIHJlamVjdHMgaWYgZGlzYWJsZWQuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzRW5hYmxlZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdG8gYmUgbm90aWZpZWQgd2hlbiBCbHVldG9vdGggc3RhdGUgY2hhbmdlcyBvbiB0aGUgZGV2aWNlLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqIEJMRS5zdGFydFN0YXRlTm90aWZpY2F0aW9ucygpLnN1YnNjcmliZShzdGF0ZSA9PiB7XG4gICAqICAgY29uc29sZS5sb2coXCJCbHVldG9vdGggaXMgXCIgKyBzdGF0ZSk7XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyB3aGVuIHRoZSBCbHVldG9vdGggaXMgZW5hYmxlZCBvciBkaXNhYmxlZCBvbiB0aGUgZGV2aWNlLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gICAgY2xlYXJGdW5jdGlvbjogJ3N0b3BTdGF0ZU5vdGlmaWNhdGlvbnMnLFxuICAgIGNsZWFyV2l0aEFyZ3M6IGZhbHNlLFxuICB9KVxuICBzdGFydFN0YXRlTm90aWZpY2F0aW9ucygpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHN0YXRlIG5vdGlmaWNhdGlvbnMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHN0b3BTdGF0ZU5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBTeXN0ZW0gQmx1ZXRvb3RoIHNldHRpbmdzIChBbmRyb2lkIG9ubHkpLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzaG93Qmx1ZXRvb3RoU2V0dGluZ3MoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIEJsdWV0b290aCBvbiB0aGUgZGV2aWNlIChBbmRyb2lkIG9ubHkpLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBlbmFibGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVhZCB0aGUgUlNTSSB2YWx1ZSBvbiB0aGUgZGV2aWNlIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICByZWFkUlNTSShkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgbGlzdCBvZiB0aGUgcGVyaXBoZXJhbHMgKGNvbnRhaW5pbmcgYW55IG9mIHRoZSBzcGVjaWZpZWQgc2VydmljZXMpXG4gICAqIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gdGhlIHN5c3RlbS4gVGhlIHBlcmlwaGVyYWwgbGlzdCBpcyBzZW50IHRvIHRoZSBzdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBpT1Mgb25seVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyBMaXN0IG9mIHNlcnZpY2VzIHRvIGRpc2NvdmVyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBwcm9taXNlIHdpdGggYSBsaXN0IG9mIHBlcmlwaGVyYWwgb2JqZWN0c1xuICAgKi9cbiAgQENvcmRvdmEoKVxuICBjb25uZWN0ZWRQZXJpcGhlcmFsc1dpdGhTZXJ2aWNlcyhzZXJ2aWNlczogc3RyaW5nW10pOiBQcm9taXNlPGFueVtdPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIGNvbm5lY3RlZCBwZXJpcGhlcmFscyBvZmZlcmluZyB0aGUgbGlzdGVkIHNlcnZpY2UgVVVJRHMuXG4gICAqIGlPUyBvbmx5XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHV1aWRzIExpc3Qgb2YgcGVyaXBoZXJhbCBVVUlEc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGEgbGlzdCBvZiBwZXJpcGhlcmFsIG9iamVjdHNcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcGVyaXBoZXJhbHNXaXRoSWRlbnRpZmllcnModXVpZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBib25kZWQgZGV2aWNlc1xuICAgKiBBbmRyb2lkIG9ubHlcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHByb21pc2Ugd2l0aCBhIGxpc3Qgb2YgcGVyaXBoZXJhbCBvYmplY3RzXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGJvbmRlZERldmljZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnRzIGlmIGxvY2F0aW9uIHNlcnZpY2VzIGFyZSBlbmFibGVkLlxuICAgKiBBbmRyb2lkIG9ubHlcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzTG9jYXRpb25FbmFibGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxufVxuIl19
