import { __decorate, __extends } from 'tslib';
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
var BLE = /** @class */ (function (_super) {
  __extends(BLE, _super);
  function BLE() {
    return (_super !== null && _super.apply(this, arguments)) || this;
  }
  BLE.prototype.scan = function (services, seconds) {
    return cordova(this, 'scan', { observable: true }, arguments);
  };
  BLE.prototype.startScan = function (services) {
    return cordova(this, 'startScan', { observable: true, clearFunction: 'stopScan', clearWithArgs: false }, arguments);
  };
  BLE.prototype.startScanWithOptions = function (services, options) {
    return cordova(
      this,
      'startScanWithOptions',
      { observable: true, clearFunction: 'stopScan', clearWithArgs: false },
      arguments
    );
  };
  BLE.prototype.stopScan = function () {
    return cordova(this, 'stopScan', {}, arguments);
  };
  BLE.prototype.connect = function (deviceId) {
    return cordova(this, 'connect', { observable: true, clearFunction: 'disconnect', clearWithArgs: true }, arguments);
  };
  BLE.prototype.autoConnect = function (deviceId, connectCallback, disconnectCallback) {
    return cordova(this, 'autoConnect', { sync: true }, arguments);
  };
  BLE.prototype.requestMtu = function (deviceId, mtuSize) {
    return cordova(this, 'requestMtu', {}, arguments);
  };
  BLE.prototype.refreshDeviceCache = function (deviceId, timeoutMillis) {
    return cordova(this, 'refreshDeviceCache', {}, arguments);
  };
  BLE.prototype.disconnect = function (deviceId) {
    return cordova(this, 'disconnect', {}, arguments);
  };
  BLE.prototype.read = function (deviceId, serviceUUID, characteristicUUID) {
    return cordova(this, 'read', {}, arguments);
  };
  BLE.prototype.write = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'write', {}, arguments);
  };
  BLE.prototype.writeWithoutResponse = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeWithoutResponse', {}, arguments);
  };
  BLE.prototype.writeHexByte = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeHexByte', {}, arguments);
  };
  BLE.prototype.writeHexString = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeHexString', {}, arguments);
  };
  BLE.prototype.writeStringWithGetBytes = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeStringWithGetBytes', {}, arguments);
  };
  BLE.prototype.writeStringWithGetBytesWithoutResponse = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'writeStringWithGetBytesWithoutResponse', {}, arguments);
  };
  BLE.prototype.testWrite = function (deviceId, serviceUUID, characteristicUUID, value) {
    return cordova(this, 'testWrite', {}, arguments);
  };
  BLE.prototype.startNotification = function (deviceId, serviceUUID, characteristicUUID) {
    return cordova(
      this,
      'startNotification',
      { observable: true, destruct: true, clearFunction: 'stopNotification', clearWithArgs: true },
      arguments
    );
  };
  BLE.prototype.stopNotification = function (deviceId, serviceUUID, characteristicUUID) {
    return cordova(this, 'stopNotification', {}, arguments);
  };
  BLE.prototype.isConnected = function (deviceId) {
    return cordova(this, 'isConnected', {}, arguments);
  };
  BLE.prototype.isEnabled = function () {
    return cordova(this, 'isEnabled', {}, arguments);
  };
  BLE.prototype.startStateNotifications = function () {
    return cordova(
      this,
      'startStateNotifications',
      { observable: true, clearFunction: 'stopStateNotifications', clearWithArgs: false },
      arguments
    );
  };
  BLE.prototype.stopStateNotifications = function () {
    return cordova(this, 'stopStateNotifications', {}, arguments);
  };
  BLE.prototype.showBluetoothSettings = function () {
    return cordova(this, 'showBluetoothSettings', {}, arguments);
  };
  BLE.prototype.enable = function () {
    return cordova(this, 'enable', {}, arguments);
  };
  BLE.prototype.readRSSI = function (deviceId) {
    return cordova(this, 'readRSSI', {}, arguments);
  };
  BLE.prototype.connectedPeripheralsWithServices = function (services) {
    return cordova(this, 'connectedPeripheralsWithServices', {}, arguments);
  };
  BLE.prototype.peripheralsWithIdentifiers = function (uuids) {
    return cordova(this, 'peripheralsWithIdentifiers', {}, arguments);
  };
  BLE.prototype.bondedDevices = function () {
    return cordova(this, 'bondedDevices', {}, arguments);
  };
  BLE.prototype.isLocationEnabled = function () {
    return cordova(this, 'isLocationEnabled', {}, arguments);
  };
  BLE.pluginName = 'BLE';
  BLE.plugin = 'cordova-plugin-ble-central';
  BLE.pluginRef = 'ble';
  BLE.repo = 'https://github.com/don/cordova-plugin-ble-central';
  BLE.platforms = ['Android', 'iOS'];
  BLE = __decorate([Injectable()], BLE);
  return BLE;
})(IonicNativePlugin);
export { BLE };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2JsZS9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDOztJQXVMVCx1QkFBaUI7Ozs7SUFpQnhDLGtCQUFJLGFBQUMsUUFBa0IsRUFBRSxPQUFlO0lBeUJ4Qyx1QkFBUyxhQUFDLFFBQWtCO0lBZTVCLGtDQUFvQixhQUFDLFFBQWtCLEVBQUUsT0FBdUI7SUFtQmhFLHNCQUFRO0lBdUJSLHFCQUFPLGFBQUMsUUFBZ0I7SUFnQ3hCLHlCQUFXLGFBQUMsUUFBZ0IsRUFBRSxlQUFvQixFQUFFLGtCQUF1QjtJQW9CM0Usd0JBQVUsYUFBQyxRQUFnQixFQUFFLE9BQWU7SUFzQjVDLGdDQUFrQixhQUFDLFFBQWdCLEVBQUUsYUFBcUI7SUFnQjFELHdCQUFVLGFBQUMsUUFBZ0I7SUFhM0Isa0JBQUksYUFBQyxRQUFnQixFQUFFLFdBQW1CLEVBQUUsa0JBQTBCO0lBaUN0RSxtQkFBSyxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFrQjtJQWMzRixrQ0FBb0IsYUFDbEIsUUFBZ0IsRUFDaEIsV0FBbUIsRUFDbkIsa0JBQTBCLEVBQzFCLEtBQWtCO0lBaUJwQiwwQkFBWSxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFZO0lBaUI1Riw0QkFBYyxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFZO0lBZTlGLHFDQUF1QixhQUNyQixRQUFnQixFQUNoQixXQUFtQixFQUNuQixrQkFBMEIsRUFDMUIsS0FBYTtJQWdCZixvREFBc0MsYUFDcEMsUUFBZ0IsRUFDaEIsV0FBbUIsRUFDbkIsa0JBQTBCLEVBQzFCLEtBQWE7SUFhZix1QkFBUyxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFZO0lBMkJ6RiwrQkFBaUIsYUFBQyxRQUFnQixFQUFFLFdBQW1CLEVBQUUsa0JBQTBCO0lBYW5GLDhCQUFnQixhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEI7SUFrQmxGLHlCQUFXLGFBQUMsUUFBZ0I7SUFVNUIsdUJBQVM7SUFxQlQscUNBQXVCO0lBVXZCLG9DQUFzQjtJQVV0QixtQ0FBcUI7SUFVckIsb0JBQU07SUFZTixzQkFBUSxhQUFDLFFBQWdCO0lBYXpCLDhDQUFnQyxhQUFDLFFBQWtCO0lBWW5ELHdDQUEwQixhQUFDLEtBQWU7SUFXMUMsMkJBQWE7SUFXYiwrQkFBaUI7Ozs7OztJQXJnQk4sR0FBRztRQURmLFVBQVUsRUFBRTtPQUNBLEdBQUc7Y0F6TGhCO0VBeUx5QixpQkFBaUI7U0FBN0IsR0FBRyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmEsIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJMRVNjYW5PcHRpb25zIHtcbiAgLyoqIHRydWUgaWYgZHVwbGljYXRlIGRldmljZXMgc2hvdWxkIGJlIHJlcG9ydGVkLCBmYWxzZSAoZGVmYXVsdCkgaWYgZGV2aWNlcyBzaG91bGQgb25seSBiZSByZXBvcnRlZCBvbmNlLiAgKi9cbiAgcmVwb3J0RHVwbGljYXRlcz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQG5hbWUgQkxFXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgcGx1Z2luIGVuYWJsZXMgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIGEgcGhvbmUgYW5kIEJsdWV0b290aCBMb3cgRW5lcmd5IChCTEUpIHBlcmlwaGVyYWxzLlxuICpcbiAqIFRoZSBwbHVnaW4gcHJvdmlkZXMgYSBzaW1wbGUgSmF2YVNjcmlwdCBBUEkgZm9yIGlPUyBhbmQgQW5kcm9pZC5cbiAqXG4gKiAtIFNjYW4gZm9yIHBlcmlwaGVyYWxzXG4gKiAtIENvbm5lY3QgdG8gYSBwZXJpcGhlcmFsXG4gKiAtIFJlYWQgdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWNcbiAqIC0gV3JpdGUgbmV3IHZhbHVlIHRvIGEgY2hhcmFjdGVyaXN0aWNcbiAqIC0gR2V0IG5vdGlmaWVkIHdoZW4gY2hhcmFjdGVyaXN0aWMncyB2YWx1ZSBjaGFuZ2VzXG4gKlxuICogQWR2ZXJ0aXNpbmcgaW5mb3JtYXRpb24gaXMgcmV0dXJuZWQgd2hlbiBzY2FubmluZyBmb3IgcGVyaXBoZXJhbHMuIFNlcnZpY2UsIGNoYXJhY3RlcmlzdGljLCBhbmQgcHJvcGVydHkgaW5mbyBpcyByZXR1cm5lZCB3aGVuIGNvbm5lY3RpbmcgdG8gYSBwZXJpcGhlcmFsLiBBbGwgYWNjZXNzIGlzIHZpYSBzZXJ2aWNlIGFuZCBjaGFyYWN0ZXJpc3RpYyBVVUlEcy4gVGhlIHBsdWdpbiBtYW5hZ2VzIGhhbmRsZXMgaW50ZXJuYWxseS5cbiAqXG4gKiBTaW11bHRhbmVvdXMgY29ubmVjdGlvbnMgdG8gbXVsdGlwbGUgcGVyaXBoZXJhbHMgYXJlIHN1cHBvcnRlZC5cbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKlxuICogaW1wb3J0IHsgQkxFIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9ibGUvbmd4JztcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGJsZTogQkxFKSB7IH1cbiAqXG4gKiBgYGBcbiAqXG4gKiAjIyBQZXJpcGhlcmFsIERhdGFcbiAqXG4gKiBQZXJpcGhlcmFsIERhdGEgaXMgcGFzc2VkIHRvIHRoZSBzdWNjZXNzIGNhbGxiYWNrIHdoZW4gc2Nhbm5pbmcgYW5kIGNvbm5lY3RpbmcuIExpbWl0ZWQgZGF0YSBpcyBwYXNzZWQgd2hlbiBzY2FubmluZy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAgIHtcbiAqICAgICAgICduYW1lJzogJ0JhdHRlcnkgRGVtbycsXG4gKiAgICAgICAnaWQnOiAnMjA6RkY6RDA6RkY6RDE6QzAnLFxuICogICAgICAgJ2FkdmVydGlzaW5nJzogWzIsMSw2LDMsMywxNSwyNCw4LDksNjYsOTcsMTE2LDExNiwxMDEsMTE0LDEyMV0sXG4gKiAgICAgICAncnNzaSc6IC01NVxuICogICB9XG4gKiBgYGBcbiAqIEFmdGVyIGNvbm5lY3RpbmcsIHRoZSBwZXJpcGhlcmFsIG9iamVjdCBhbHNvIGluY2x1ZGVzIHNlcnZpY2UsIGNoYXJhY3RlcmlzdGljIGFuZCBkZXNjcmlwdG9yIGluZm9ybWF0aW9uLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqICAge1xuICogICAgICAgJ25hbWUnOiAnQmF0dGVyeSBEZW1vJyxcbiAqICAgICAgICdpZCc6ICcyMDpGRjpEMDpGRjpEMTpDMCcsXG4gKiAgICAgICAnYWR2ZXJ0aXNpbmcnOiBbMiwxLDYsMywzLDE1LDI0LDgsOSw2Niw5NywxMTYsMTE2LDEwMSwxMTQsMTIxXSxcbiAqICAgICAgICdyc3NpJzogLTU1LFxuICogICAgICAgJ3NlcnZpY2VzJzogW1xuICogICAgICAgICAgICcxODAwJyxcbiAqICAgICAgICAgICAnMTgwMScsXG4gKiAgICAgICAgICAgJzE4MGYnXG4gKiAgICAgICBdLFxuICogICAgICAgJ2NoYXJhY3RlcmlzdGljcyc6IFtcbiAqICAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgICdzZXJ2aWNlJzogJzE4MDAnLFxuICogICAgICAgICAgICAgICAnY2hhcmFjdGVyaXN0aWMnOiAnMmEwMCcsXG4gKiAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzJzogW1xuICogICAgICAgICAgICAgICAgICAgJ1JlYWQnXG4gKiAgICAgICAgICAgICAgIF1cbiAqICAgICAgICAgICB9LFxuICogICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICAgJ3NlcnZpY2UnOiAnMTgwMCcsXG4gKiAgICAgICAgICAgICAgICdjaGFyYWN0ZXJpc3RpYyc6ICcyYTAxJyxcbiAqICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiBbXG4gKiAgICAgICAgICAgICAgICAgICAnUmVhZCdcbiAqICAgICAgICAgICAgICAgXVxuICogICAgICAgICAgIH0sXG4gKiAgICAgICAgICAge1xuICogICAgICAgICAgICAgICAnc2VydmljZSc6ICcxODAxJyxcbiAqICAgICAgICAgICAgICAgJ2NoYXJhY3RlcmlzdGljJzogJzJhMDUnLFxuICogICAgICAgICAgICAgICAncHJvcGVydGllcyc6IFtcbiAqICAgICAgICAgICAgICAgICAgICdSZWFkJ1xuICogICAgICAgICAgICAgICBdXG4gKiAgICAgICAgICAgfSxcbiAqICAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgICdzZXJ2aWNlJzogJzE4MGYnLFxuICogICAgICAgICAgICAgICAnY2hhcmFjdGVyaXN0aWMnOiAnMmExOScsXG4gKiAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzJzogW1xuICogICAgICAgICAgICAgICAgICAgJ1JlYWQnXG4gKiAgICAgICAgICAgICAgIF0sXG4gKiAgICAgICAgICAgICAgICdkZXNjcmlwdG9ycyc6IFtcbiAqICAgICAgICAgICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAndXVpZCc6ICcyOTAxJ1xuICogICAgICAgICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAndXVpZCc6ICcyOTA0J1xuICogICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICBdXG4gKiAgICAgICAgICAgfVxuICogICAgICAgXVxuICogICB9XG4gKiBgYGBcbiAqXG4gKiAjIyBBZHZlcnRpc2luZyBEYXRhXG4gKiBCbHVldG9vdGggYWR2ZXJ0aXNpbmcgZGF0YSBpcyByZXR1cm5lZCBpbiB3aGVuIHNjYW5uaW5nIGZvciBkZXZpY2VzLiBUaGUgZm9ybWF0IHZhcmllcyBkZXBlbmRpbmcgb24geW91ciBwbGF0Zm9ybS4gT24gQW5kcm9pZCBhZHZlcnRpc2luZyBkYXRhIHdpbGwgYmUgdGhlIHJhdyBhZHZlcnRpc2luZyBieXRlcy4gaU9TIGRvZXMgbm90IGFsbG93IGFjY2VzcyB0byByYXcgYWR2ZXJ0aXNpbmcgZGF0YSwgc28gYSBkaWN0aW9uYXJ5IG9mIGRhdGEgaXMgcmV0dXJuZWQuXG4gKlxuICogVGhlIGFkdmVydGlzaW5nIGluZm9ybWF0aW9uIGZvciBib3RoIEFuZHJvaWQgYW5kIGlPUyBhcHBlYXJzIHRvIGJlIGEgY29tYmluYXRpb24gb2YgYWR2ZXJ0aXNpbmcgZGF0YSBhbmQgc2NhbiByZXNwb25zZSBkYXRhLlxuICpcbiAqICMjIyBBbmRyb2lkXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogICB7XG4gKiAgICAgICAnbmFtZSc6ICdkZW1vJyxcbiAqICAgICAgICdpZCc6ICcwMDoxQTo3RDpEQTo3MToxMycsXG4gKiAgICAgICAnYWR2ZXJ0aXNpbmcnOiBBcnJheUJ1ZmZlcixcbiAqICAgICAgJ3Jzc2knOiAtMzdcbiAqICB9XG4gKiBgYGBcbiAqXG4gKiBDb252ZXJ0IHRoZSBhZHZlcnRpc2luZyBpbmZvIHRvIGEgVWludDhBcnJheSBmb3IgcHJvY2Vzc2luZy4gYHZhciBhZERhdGEgPSBuZXcgVWludDhBcnJheShwZXJpcGhlcmFsLmFkdmVydGlzaW5nKWBcbiAqXG4gKiAjIyMgaU9TXG4gKlxuICogTm90ZSB0aGF0IGlPUyB1c2VzIHRoZSBzdHJpbmcgdmFsdWUgb2YgdGhlIGNvbnN0YW50cyBmb3IgdGhlIFtBZHZlcnRpc2VtZW50IERhdGEgUmV0cmlldmFsIEtleXNdKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2lvcy9kb2N1bWVudGF0aW9uL0NvcmVCbHVldG9vdGgvUmVmZXJlbmNlL0NCQ2VudHJhbE1hbmFnZXJEZWxlZ2F0ZV9Qcm90b2NvbC9pbmRleC5odG1sIy8vYXBwbGVfcmVmL2RvYy9jb25zdGFudF9ncm91cC9BZHZlcnRpc2VtZW50X0RhdGFfUmV0cmlldmFsX0tleXMpLiBUaGlzIHdpbGwgbGlrZWx5IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqICAge1xuICogICAgICAgJ25hbWUnOiAnZGVtbycsXG4gKiAgICAgICAnaWQnOiAnRDg0NzlBNEYtNzUxNy1CQ0QzLTkxQjUtMzMwMkIyRjgxODAyJyxcbiAqICAgICAgICdhZHZlcnRpc2luZyc6IHtcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUNoYW5uZWwnOiAzNyxcbiAqICAgICAgICAgICAna0NCQWR2RGF0YVNlcnZpY2VEYXRhJzoge1xuICogICAgICAgICAgICAgICAnRkVEOCc6IHtcbiAqICAgICAgICAgICAgICAgICAgICdieXRlTGVuZ3RoJzogNyAvLyBkYXRhIG5vdCBzaG93blxuICogICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUxvY2FsTmFtZSc6ICdkZW1vJyxcbiAqICAgICAgICAgICAna0NCQWR2RGF0YVNlcnZpY2VVVUlEcyc6IFsnRkVEOCddLFxuICogICAgICAgICAgICdrQ0JBZHZEYXRhTWFudWZhY3R1cmVyRGF0YSc6IHtcbiAqICAgICAgICAgICAgICAgJ2J5dGVMZW5ndGgnOiA3ICAvLyBkYXRhIG5vdCBzaG93blxuICogICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgJ2tDQkFkdkRhdGFUeFBvd2VyTGV2ZWwnOiAzMixcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUlzQ29ubmVjdGFibGUnOiB0cnVlXG4gKiAgICAgICB9LFxuICogICAgICAgJ3Jzc2knOiAtNTNcbiAqICAgfVxuICogYGBgXG4gKlxuICogIyMgVHlwZWQgQXJyYXlzXG4gKlxuICogVGhpcyBwbHVnaW4gdXNlcyB0eXBlZCBBcnJheXMgb3IgQXJyYXlCdWZmZXJzIGZvciBzZW5kaW5nIGFuZCByZWNlaXZpbmcgZGF0YS5cbiAqXG4gKiBUaGlzIG1lYW5zIHRoYXQgeW91IG5lZWQgY29udmVydCB5b3VyIGRhdGEgdG8gQXJyYXlCdWZmZXJzIGJlZm9yZSBzZW5kaW5nIGFuZCBmcm9tIEFycmF5QnVmZmVycyB3aGVuIHJlY2VpdmluZy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAgIC8vIEFTQ0lJIG9ubHlcbiAqICAgZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHJpbmcpIHtcbiAqICAgICAgdmFyIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoc3RyaW5nLmxlbmd0aCk7XG4gKiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gc3RyaW5nLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICogICAgICAgICAgYXJyYXlbaV0gPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcbiAqICAgICAgIH1cbiAqICAgICAgIHJldHVybiBhcnJheS5idWZmZXI7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIEFTQ0lJIG9ubHlcbiAqICAgZnVuY3Rpb24gYnl0ZXNUb1N0cmluZyhidWZmZXIpIHtcbiAqICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xuICogICB9XG4gKiBgYGBcbiAqIFlvdSBjYW4gcmVhZCBtb3JlIGFib3V0IHR5cGVkIGFycmF5cyBpbiB0aGVzZSBhcnRpY2xlcyBvbiBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1R5cGVkX2FycmF5cykgYW5kIFtIVE1MNSBSb2Nrc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvd2ViZ2wvdHlwZWRfYXJyYXlzLykuXG4gKlxuICogIyMgVVVJRHNcbiAqXG4gKiBVVUlEcyBhcmUgYWx3YXlzIHN0cmluZ3MgYW5kIG5vdCBudW1iZXJzLiBTb21lIDE2LWJpdCBVVUlEcywgc3VjaCBhcyAnMjIyMCcgbG9vayBsaWtlIGludGVnZXJzLCBidXQgdGhleSdyZSBub3QuIChUaGUgaW50ZWdlciAyMjIwIGlzIDB4OEFDIGluIGhleC4pIFRoaXMgaXNuJ3QgYSBwcm9ibGVtIHdpdGggMTI4IGJpdCBVVUlEcyBzaW5jZSB0aGV5IGxvb2sgbGlrZSBzdHJpbmdzIDgyYjllNmUxLTU5M2EtNDU2Zi1iZTliLTkyMTUxNjBlYmNhYy4gQWxsIDE2LWJpdCBVVUlEcyBzaG91bGQgYWxzbyBiZSBwYXNzZWQgdG8gbWV0aG9kcyBhcyBzdHJpbmdzLlxuICpcbiAqIEBpbnRlcmZhY2VzXG4gKiBCTEVTY2FuT3B0aW9uc1xuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0JMRScsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLWJsZS1jZW50cmFsJyxcbiAgcGx1Z2luUmVmOiAnYmxlJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9kb24vY29yZG92YS1wbHVnaW4tYmxlLWNlbnRyYWwnLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQkxFIGV4dGVuZHMgSW9uaWNOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogU2NhbiBhbmQgZGlzY292ZXIgQkxFIHBlcmlwaGVyYWxzIGZvciB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqIEJMRS5zY2FuKFtdLCA1KS5zdWJzY3JpYmUoZGV2aWNlID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZXZpY2UpKTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyAgTGlzdCBvZiBzZXJ2aWNlIFVVSURzIHRvIGRpc2NvdmVyLCBvciBgW11gIHRvIGZpbmQgYWxsIGRldmljZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgIE51bWJlciBvZiBzZWNvbmRzIHRvIHJ1biBkaXNjb3ZlcnlcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgZWFjaCBwZXJpcGhlcmFsIHRoYXQgaXMgZGlzY292ZXJlZCBkdXJpbmcgdGhlIHNwZWNpZmllZCB0aW1lLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gIH0pXG4gIHNjYW4oc2VydmljZXM6IHN0cmluZ1tdLCBzZWNvbmRzOiBudW1iZXIpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FuIGFuZCBkaXNjb3ZlciBCTEUgcGVyaXBoZXJhbHMgdW50aWwgYHN0b3BTY2FuYCBpcyBjYWxsZWQuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiBgYGBcbiAgICogQkxFLnN0YXJ0U2NhbihbXSkuc3Vic2NyaWJlKGRldmljZSA9PiB7XG4gICAqICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGV2aWNlKSk7XG4gICAqIH0pO1xuICAgKlxuICAgKiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICogICBCTEUuc3RvcFNjYW4oKTtcbiAgICogfSwgNTAwMCk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyAgTGlzdCBvZiBzZXJ2aWNlIFVVSURzIHRvIGRpc2NvdmVyLCBvciBgW11gIHRvIGZpbmQgYWxsIGRldmljZXNcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgZWFjaCBwZXJpcGhlcmFsIGRpc2NvdmVyZWQuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcbiAgICBjbGVhckZ1bmN0aW9uOiAnc3RvcFNjYW4nLFxuICAgIGNsZWFyV2l0aEFyZ3M6IGZhbHNlLFxuICB9KVxuICBzdGFydFNjYW4oc2VydmljZXM6IHN0cmluZ1tdKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2NhbnMgZm9yIEJMRSBkZXZpY2VzLiBUaGlzIGZ1bmN0aW9uIG9wZXJhdGVzIHNpbWlsYXJseSB0byB0aGUgYHN0YXJ0U2NhbmAgZnVuY3Rpb24sIGJ1dCBhbGxvd3MgeW91IHRvIHNwZWNpZnkgZXh0cmEgb3B0aW9ucyAobGlrZSBhbGxvd2luZyBkdXBsaWNhdGUgZGV2aWNlIHJlcG9ydHMpLlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyAgTGlzdCBvZiBzZXJ2aWNlIFVVSURzIHRvIGRpc2NvdmVyLCBvciBgW11gIHRvIGZpbmQgYWxsIGRldmljZXNcbiAgICogQHBhcmFtIHtCTEVTY2FuT3B0aW9uc30gb3B0aW9ucyBPcHRpb25zXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIGVhY2ggcGVyaXBoZXJhbCBkaXNjb3ZlcmVkLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gICAgY2xlYXJGdW5jdGlvbjogJ3N0b3BTY2FuJyxcbiAgICBjbGVhcldpdGhBcmdzOiBmYWxzZSxcbiAgfSlcbiAgc3RhcnRTY2FuV2l0aE9wdGlvbnMoc2VydmljZXM6IHN0cmluZ1tdLCBvcHRpb25zOiBCTEVTY2FuT3B0aW9ucyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgYSBzY2FuIHN0YXJ0ZWQgYnkgYHN0YXJ0U2NhbmAuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiBgYGBcbiAgICogQkxFLnN0YXJ0U2NhbihbXSkuc3Vic2NyaWJlKGRldmljZSA9PiB7XG4gICAqICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGV2aWNlKSk7XG4gICAqIH0pO1xuICAgKiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICogICBCTEUuc3RvcFNjYW4oKS50aGVuKCgpID0+IHsgY29uc29sZS5sb2coJ3NjYW4gc3RvcHBlZCcpOyB9KTtcbiAgICogfSwgNTAwMCk7XG4gICAqIGBgYFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzdG9wU2NhbigpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25uZWN0IHRvIGEgcGVyaXBoZXJhbC5cbiAgICogQHVzYWdlXG4gICAqIGBgYFxuICAgKiAgIEJMRS5jb25uZWN0KCcxMjozNDo1Njo3ODo5QTpCQycpLnN1YnNjcmliZShwZXJpcGhlcmFsRGF0YSA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZyhwZXJpcGhlcmFsRGF0YSk7XG4gICAqICAgfSxcbiAgICogICBwZXJpcGhlcmFsRGF0YSA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnZGlzY29ubmVjdGVkJyk7XG4gICAqICAgfSk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIGNvbm5lY3QvZGlzY29ubmVjdC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxuICAgIGNsZWFyRnVuY3Rpb246ICdkaXNjb25uZWN0JyxcbiAgICBjbGVhcldpdGhBcmdzOiB0cnVlLFxuICB9KVxuICBjb25uZWN0KGRldmljZUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFc3RhYmxpc2ggYW4gYXV0b21hdGljIGNvbm5lY3Rpb24gdG8gYSBwZXJpcGhlcmFsLiBUaGUgcGhvbmUgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbm5lY3QgdG8gdGhlIEJsdWV0b290aCBwZXJpcGhlcmFsXG4gICAqIHdoZW5ldmVyIGl0IGlzIGluIHJhbmdlLiBUaGUgYXV0b0Nvbm5lY3QgZnVuY3Rpb24gdXNlcyBjYWxsYmFja3MgaW5zdGVhZCBvZiBvYnNlcnZhYmxlcyBiZWNhdXNlIGNvbm5lY3QgYW5kXG4gICAqIGRpc2Nvbm5lY3QgY2FuIGVhY2ggYmUgY2FsbGVkIG1hbnkgdGltZXMgYXMgYSBkZXZpY2VzIGNvbm5lY3RzIGFuZCBkaXNjb25uZWN0cy5cbiAgICpcbiAgICogT24gQW5kcm9pZCB5b3UgY2FuIHBhc3MgYSBNQUMgYWRkcmVzcyBkaXJlY3RseSB0byBhdXRvQ29ubmVjdC4gV2l0aCBpT1MsIHlvdSBuZWVkIHRvIGdldCBhIGRldmljZSBpZCBieSBzY2FubmluZyxcbiAgICogY2FsbGluZyBibGUucGVyaXBoZXJhbHNXaXRoSWRlbnRpZmllcnMsIG9yIGNhbGxpbmcgYmxlLmNvbm5lY3RlZFBlcmlwaGVyYWxzV2l0aFNlcnZpY2VzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqICBzb21lRnVuY3Rpb24oKSB7XG4gICAqICAgIHRoaXMuYmxlLmF1dG9Db25uZWN0KGRldmljZUlkLCBvbkNvbm5lY3RlZC5iaW5kKHRoaXMpLCBvbkRpc2Nvbm5lY3RlZC5iaW5kKHRoaXMpKTtcbiAgICogIH1cbiAgICpcbiAgICogIG9uQ29ubmVjdGVkKHBlcmlwaGVyYWwpIHtcbiAgICogICAgY29uc29sZS5sb2coYENvbm5lY3RlZCB0byAke3BlcmlwaGVyYWwuaWR9YClsXG4gICAqICB9XG4gICAqXG4gICAqICBvbkRpc2Nvbm5lY3RlZChwZXJpcGhlcmFsKSB7XG4gICAqICAgIGNvbnNvbGUubG9nKGBEaXNjb25uZWN0ZWQgZnJvbSAke3BlcmlwaGVyYWwuaWR9YClsXG4gICAqICB9XG4gICAqXG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25uZWN0Q2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBwZXJpcGhlcmFsIGRhdGEgd2hlbiB0aGUgZGV2aWNlcyBjb25uZWN0c1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkaXNjb25uZWN0Q2FsbGJhY2sgIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggcGVyaXBoZXJhbCBkYXRhIHdoZW4gdGhlIGRldmljZXMgZGlzY29ubmVjdHNcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBhdXRvQ29ubmVjdChkZXZpY2VJZDogc3RyaW5nLCBjb25uZWN0Q2FsbGJhY2s6IGFueSwgZGlzY29ubmVjdENhbGxiYWNrOiBhbnkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBNVFUgc2l6ZS5cbiAgICogTWF5IGJlIHVzZWQgdG8gZml4IHRoZSBFcnJvciAxNCBcIlVubGlrZWx5XCIgb24gd3JpdGUgcmVxdWVzdHMgd2l0aCBtb3JlIHRoYW4gMjAgYnl0ZXMuXG4gICAqIEB1c2FnZVxuICAgKiBgYGBcbiAgICogICBCTEUucmVxdWVzdE10dSgnMTI6MzQ6NTY6Nzg6OUE6QkMnLCA1MTIpLnRoZW4oKCkgPT4ge1xuICAgKiAgICAgY29uc29sZS5sb2coJ01UVSBTaXplIEFjY2VwdGVkJyk7XG4gICAqICAgfSwgZXJyb3IgPT4ge1xuICAgKiAgICAgY29uc29sZS5sb2coJ01UVSBTaXplIEZhaWxlZCcpO1xuICAgKiAgIH0pO1xuICAgKiBgYGBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcbiAgICogQHBhcmFtIHtudW1iZXJ9IG10dVNpemUgVGhlIG5ldyBNVFUgc2l6ZS4gKDIzIC0gNTE3LCBkZWZhdWx0IGlzIHVzdWFsbHkgMjMuIE1heCByZWNvbW1lbmRlZDogNTEyKVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICByZXF1ZXN0TXR1KGRldmljZUlkOiBzdHJpbmcsIG10dVNpemU6IG51bWJlcik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggRGV2aWNlIENhY2hlXG4gICAqIFRoaXMgbWV0aG9kIG1heSBmaXggYSBpc3N1ZSBvZiBvbGQgY2FjaGVkIHNlcnZpY2VzIGFuZCBjaGFyYWN0ZXJpc3RpY3MuXG4gICAqIE5PVEUgU2luY2UgdGhpcyB1c2VzIGFuIHVuZG9jdW1lbnRlZCBBUEkgaXQncyBub3QgZ3VhcmFudGVlZCB0byB3b3JrLlxuICAgKiBJZiB5b3UgY2hvb3NlIGEgdG9vIGxvdyBkZWxheSB0aW1lICh0aW1lb3V0TWlsbGlzKSB0aGUgbWV0aG9kIGNvdWxkIGZhaWwuXG4gICAqIEB1c2FnZVxuICAgKiBgYGBcbiAgICogICBCTEUucmVmcmVzaERldmljZUNhY2hlKCcxMjozNDo1Njo3ODo5QTpCQycsIDEwMDAwKS50aGVuKGRpc2NvdmVyZWRTZXJ2aWNlcyA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnVGhlIG5ldyBkaXNjb3ZlcmVkIHNlcnZpY2VzIGFmdGVyIHRoZSBjbGVhbjogJywgZGlzY292ZXJlZFNlcnZpY2VzKTtcbiAgICogICB9LCBlcnJvciA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnUmVmcmVzaCBkZXZpY2UgY2FjaGUgZmFpbGVkLicpO1xuICAgKiAgIH0pO1xuICAgKiBgYGBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXRNaWxsaXMgRGVsYXkgaW4gbWlsbGlzZWNvbmRzIGFmdGVyIHJlZnJlc2ggYmVmb3JlIGRpc2NvdmVyaW5nIHNlcnZpY2VzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICByZWZyZXNoRGV2aWNlQ2FjaGUoZGV2aWNlSWQ6IHN0cmluZywgdGltZW91dE1pbGxpczogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdCBmcm9tIGEgcGVyaXBoZXJhbC5cbiAgICogQHVzYWdlXG4gICAqIGBgYFxuICAgKiAgIEJMRS5kaXNjb25uZWN0KCcxMjozNDo1Njo3ODo5QTpCQycpLnRoZW4oKCkgPT4ge1xuICAgKiAgICAgY29uc29sZS5sb2coJ0Rpc2Nvbm5lY3RlZCcpO1xuICAgKiAgIH0pO1xuICAgKiBgYGBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2VcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZGlzY29ubmVjdChkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVhZCB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpYy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcmlzdGljVVVJRCAgVVVJRCBvZiB0aGUgQkxFIGNoYXJhY3RlcmlzdGljXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2VcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcmVhZChkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljLlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqIC8vIHNlbmQgMSBieXRlIHRvIHN3aXRjaCBhIGxpZ2h0IG9uXG4gICAqIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoMSk7XG4gICAqIGRhdGFbMF0gPSAxO1xuICAgKiBCTEUud3JpdGUoZGV2aWNlX2lkLCAnRkYxMCcsICdGRjExJywgZGF0YS5idWZmZXIpO1xuICAgKlxuICAgKiAvLyBzZW5kIGEgMyBieXRlIHZhbHVlIHdpdGggUkdCIGNvbG9yXG4gICAqIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoMyk7XG4gICAqIGRhdGFbMF0gPSAweEZGOyAgLy8gcmVkXG4gICAqIGRhdGFbMF0gPSAweDAwOyAvLyBncmVlblxuICAgKiBkYXRhWzBdID0gMHhGRjsgLy8gYmx1ZVxuICAgKiBCTEUud3JpdGUoZGV2aWNlX2lkLCAnY2NjMCcsICdjY2MxJywgZGF0YS5idWZmZXIpO1xuICAgKlxuICAgKiAvLyBzZW5kIGEgMzIgYml0IGludGVnZXJcbiAgICogdmFyIGRhdGEgPSBuZXcgVWludDMyQXJyYXkoMSk7XG4gICAqIGRhdGFbMF0gPSBjb3VudGVySW5wdXQudmFsdWU7XG4gICAqIEJMRS53cml0ZShkZXZpY2VfaWQsIFNFUlZJQ0UsIENIQVJBQ1RFUklTVElDLCBkYXRhLmJ1ZmZlcik7XG4gICAqXG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gdmFsdWUgIERhdGEgdG8gd3JpdGUgdG8gdGhlIGNoYXJhY3RlcmlzdGljLCBhcyBhbiBBcnJheUJ1ZmZlci5cbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICB3cml0ZShkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZywgdmFsdWU6IEFycmF5QnVmZmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogV3JpdGUgdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWMgd2l0aG91dCB3YWl0aW5nIGZvciBjb25maXJtYXRpb24gZnJvbSB0aGUgcGVyaXBoZXJhbC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcmlzdGljVVVJRCAgVVVJRCBvZiB0aGUgQkxFIGNoYXJhY3RlcmlzdGljXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IHZhbHVlICBEYXRhIHRvIHdyaXRlIHRvIHRoZSBjaGFyYWN0ZXJpc3RpYywgYXMgYW4gQXJyYXlCdWZmZXIuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2VcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgd3JpdGVXaXRob3V0UmVzcG9uc2UoXG4gICAgZGV2aWNlSWQ6IHN0cmluZyxcbiAgICBzZXJ2aWNlVVVJRDogc3RyaW5nLFxuICAgIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nLFxuICAgIHZhbHVlOiBBcnJheUJ1ZmZlclxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiB3cml0ZXMgdW5zaWduZWQgSGV4IEJ5dGUgaW4gYnl0ZSBhcnJheVxuICAgKiBtYXg6IDI1NiBbMC0yNTVdXG4gICAqIGFjY2VwdHMgSEVYLU51bWJlcnMgYXMgYXJnc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcbiAgICogQHBhcmFtIHthbnlbXX0gdmFsdWUgIERhdGEgdG8gd3JpdGUgdG8gdGhlIGNoYXJhY3RlcmlzdGljLCBhcyBhbiBBcnJheUJ1ZmZlci5cbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICB3cml0ZUhleEJ5dGUoZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcsIHZhbHVlOiBhbnlbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgQVNDSUkgZXF1aXZhbGVudCBvZiBhcmdzIGluIERlY2ltYWwtRm9ybWF0XG4gICAqIENvbnZlcnQgaXQgdG8gSEVYIE51bWJlcnNcbiAgICogV3JpdGVzIHVuc2lnbmVkIGhleCBudW1iZXIgaW4gYnl0ZSBhcnJheVxuICAgKiBNYXg6IDI1NiBbMC0yNTVdXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xuICAgKiBAcGFyYW0ge2FueVtdfSB2YWx1ZSAgdGFrZXMgZGVjaW1hbCBudW1iZXIgJiBjb252ZXJ0IGl0IHRvIGhleGFkZWNpbWFsICYgdGhlbiByb3VuZCBvZmYgdG8gb25lIHVuc2lnbmVkIGJ5dGUgKCYweEZGKVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHdyaXRlSGV4U3RyaW5nKGRldmljZUlkOiBzdHJpbmcsIHNlcnZpY2VVVUlEOiBzdHJpbmcsIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nLCB2YWx1ZTogYW55W10pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY2NlcHRzIHN0cmluZyBkYXRhXG4gICAqIFVzZXMgamF2YSBtZXRob2QgZ2V0Qnl0ZXMoKSB0byBnZXQgQnl0ZUFycmF5IGZyb20gYSBnaXZlbiBzdHJpbmdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcmlzdGljVVVJRCAgVVVJRCBvZiB0aGUgQkxFIGNoYXJhY3RlcmlzdGljXG4gICAqIEBwYXJhbSB7YW55W119IHZhbHVlICB0YWtlcyBkZWNpbWFsIG51bWJlciAmIGNvbnZlcnQgaXQgdG8gaGV4YWRlY2ltYWwgJiB0aGVuIHJvdW5kIG9mZiB0byBvbmUgdW5zaWduZWQgYnl0ZSAoJjB4RkYpXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2VcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgd3JpdGVTdHJpbmdXaXRoR2V0Qnl0ZXMoXG4gICAgZGV2aWNlSWQ6IHN0cmluZyxcbiAgICBzZXJ2aWNlVVVJRDogc3RyaW5nLFxuICAgIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nLFxuICAgIHZhbHVlOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQWNjZXB0cyBzdHJpbmcgZGF0YVxuICAgKiBVc2VzIGphdmEgbWV0aG9kIGdldEJ5dGVzKCkgdG8gZ2V0IEJ5dGVBcnJheSBmcm9tIGEgZ2l2ZW4gc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xuICAgKiBAcGFyYW0ge2FueVtdfSB2YWx1ZSAgdGFrZXMgZGVjaW1hbCBudW1iZXIgJiBjb252ZXJ0IGl0IHRvIGhleGFkZWNpbWFsICYgdGhlbiByb3VuZCBvZmYgdG8gb25lIHVuc2lnbmVkIGJ5dGUgKCYweEZGKVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHdyaXRlU3RyaW5nV2l0aEdldEJ5dGVzV2l0aG91dFJlc3BvbnNlKFxuICAgIGRldmljZUlkOiBzdHJpbmcsXG4gICAgc2VydmljZVVVSUQ6IHN0cmluZyxcbiAgICBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZyxcbiAgICB2YWx1ZTogc3RyaW5nXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xuICAgKiBAcGFyYW0ge2FueVtdfSB2YWx1ZSAgdGFrZXMgZGVjaW1hbCBudW1iZXIgJiBjb252ZXJ0IGl0IHRvIGhleGFkZWNpbWFsICYgdGhlbiByb3VuZCBvZmYgdG8gb25lIHVuc2lnbmVkIGJ5dGUgKCYweEZGKVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHRlc3RXcml0ZShkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZywgdmFsdWU6IGFueVtdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdG8gYmUgbm90aWZpZWQgd2hlbiB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpYyBjaGFuZ2VzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqIEJMRS5zdGFydE5vdGlmaWNhdGlvbihkZXZpY2VfaWQsICdGRjEwJywgJ0ZGMTEnKS5zdWJzY3JpYmUoYnVmZmVyID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIGNoYXJhY3RlcmlzdGljIGNoYW5nZXMuXG4gICAqIFRoZSBvYnNlcnZlciBlbWl0IGFuIGFycmF5IHdpdGggZGF0YSBhdCBpbmRleCAwIGFuZCBzZXF1ZW5jZSBvcmRlciBhdCBpbmRleCAxLlxuICAgKiBUaGUgc2VxdWVuY2Ugb3JkZXIgaXMgYWx3YXlzIHVuZGVmaW5lZCBvbiBpT1MuIE9uIGFuZHJvaWQgaXQgbGVhdmUgdGhlIGNsaWVudCB0byBjaGVjayB0aGUgc2VxdWVuY2Ugb3JkZXIgYW5kIHJlb3JkZXIgaWYgbmVlZGVkXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcbiAgICBkZXN0cnVjdDogdHJ1ZSxcbiAgICBjbGVhckZ1bmN0aW9uOiAnc3RvcE5vdGlmaWNhdGlvbicsXG4gICAgY2xlYXJXaXRoQXJnczogdHJ1ZSxcbiAgfSlcbiAgc3RhcnROb3RpZmljYXRpb24oZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGJlaW5nIG5vdGlmaWVkIHdoZW4gdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWMgY2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcmlzdGljVVVJRCAgVVVJRCBvZiB0aGUgQkxFIGNoYXJhY3RlcmlzdGljXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHN0b3BOb3RpZmljYXRpb24oZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnQgdGhlIGNvbm5lY3Rpb24gc3RhdHVzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqIEJMRS5pc0Nvbm5lY3RlZCgnRkZDQTBCMDktQ0IxRC00REMwLUExRUYtMzFBRkQzRURGQjUzJykudGhlbihcbiAgICogICAoKSA9PiB7IGNvbnNvbGUubG9nKCdjb25uZWN0ZWQnKTsgfSxcbiAgICogICAoKSA9PiB7IGNvbnNvbGUubG9nKCdub3QgY29ubmVjdGVkJyk7IH1cbiAgICogKTtcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc0Nvbm5lY3RlZChkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0IGlmIGJsdWV0b290aCBpcyBlbmFibGVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyBpZiBCbHVldG9vdGggaXMgZW5hYmxlZCwgYW5kIHJlamVjdHMgaWYgZGlzYWJsZWQuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzRW5hYmxlZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdG8gYmUgbm90aWZpZWQgd2hlbiBCbHVldG9vdGggc3RhdGUgY2hhbmdlcyBvbiB0aGUgZGV2aWNlLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogYGBgXG4gICAqIEJMRS5zdGFydFN0YXRlTm90aWZpY2F0aW9ucygpLnN1YnNjcmliZShzdGF0ZSA9PiB7XG4gICAqICAgY29uc29sZS5sb2coXCJCbHVldG9vdGggaXMgXCIgKyBzdGF0ZSk7XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyB3aGVuIHRoZSBCbHVldG9vdGggaXMgZW5hYmxlZCBvciBkaXNhYmxlZCBvbiB0aGUgZGV2aWNlLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gICAgY2xlYXJGdW5jdGlvbjogJ3N0b3BTdGF0ZU5vdGlmaWNhdGlvbnMnLFxuICAgIGNsZWFyV2l0aEFyZ3M6IGZhbHNlLFxuICB9KVxuICBzdGFydFN0YXRlTm90aWZpY2F0aW9ucygpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHN0YXRlIG5vdGlmaWNhdGlvbnMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHN0b3BTdGF0ZU5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBTeXN0ZW0gQmx1ZXRvb3RoIHNldHRpbmdzIChBbmRyb2lkIG9ubHkpLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzaG93Qmx1ZXRvb3RoU2V0dGluZ3MoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIEJsdWV0b290aCBvbiB0aGUgZGV2aWNlIChBbmRyb2lkIG9ubHkpLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBlbmFibGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVhZCB0aGUgUlNTSSB2YWx1ZSBvbiB0aGUgZGV2aWNlIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICByZWFkUlNTSShkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgbGlzdCBvZiB0aGUgcGVyaXBoZXJhbHMgKGNvbnRhaW5pbmcgYW55IG9mIHRoZSBzcGVjaWZpZWQgc2VydmljZXMpXG4gICAqIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gdGhlIHN5c3RlbS4gVGhlIHBlcmlwaGVyYWwgbGlzdCBpcyBzZW50IHRvIHRoZSBzdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBpT1Mgb25seVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyBMaXN0IG9mIHNlcnZpY2VzIHRvIGRpc2NvdmVyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBwcm9taXNlIHdpdGggYSBsaXN0IG9mIHBlcmlwaGVyYWwgb2JqZWN0c1xuICAgKi9cbiAgQENvcmRvdmEoKVxuICBjb25uZWN0ZWRQZXJpcGhlcmFsc1dpdGhTZXJ2aWNlcyhzZXJ2aWNlczogc3RyaW5nW10pOiBQcm9taXNlPGFueVtdPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIGNvbm5lY3RlZCBwZXJpcGhlcmFscyBvZmZlcmluZyB0aGUgbGlzdGVkIHNlcnZpY2UgVVVJRHMuXG4gICAqIGlPUyBvbmx5XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHV1aWRzIExpc3Qgb2YgcGVyaXBoZXJhbCBVVUlEc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGEgbGlzdCBvZiBwZXJpcGhlcmFsIG9iamVjdHNcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcGVyaXBoZXJhbHNXaXRoSWRlbnRpZmllcnModXVpZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBib25kZWQgZGV2aWNlc1xuICAgKiBBbmRyb2lkIG9ubHlcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHByb21pc2Ugd2l0aCBhIGxpc3Qgb2YgcGVyaXBoZXJhbCBvYmplY3RzXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGJvbmRlZERldmljZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnRzIGlmIGxvY2F0aW9uIHNlcnZpY2VzIGFyZSBlbmFibGVkLlxuICAgKiBBbmRyb2lkIG9ubHlcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzTG9jYXRpb25FbmFibGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxufVxuIl19
